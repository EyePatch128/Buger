import React, { useState } from "react"
import {motion} from "framer-motion"

// Styled Components
import { Container, Navigation, Content } from "./scrollspy-styles";


function Scrollspy(props){
    const svg = {
        Burger: 
            <svg width="24" height="24" viewBox="0 0 16 14" fill="none">
                <path d="M14.5 7H1.5C1.10218 7 0.720644 7.15804 0.43934 7.43934C0.158035 7.72064 0 8.10218 0 8.5C0 8.89782 0.158035 9.27936 0.43934 9.56066C0.720644 9.84196 1.10218 10 1.5 10H14.5C14.8978 10 15.2794 9.84196 15.5607 9.56066C15.842 9.27936 16 8.89782 16 8.5C16 8.10218 15.842 7.72064 15.5607 7.43934C15.2794 7.15804 14.8978 7 14.5 7V7ZM15 11H1C0.867392 11 0.740215 11.0527 0.646447 11.1464C0.552678 11.2402 0.5 11.3674 0.5 11.5V12C0.5 12.5304 0.710714 13.0391 1.08579 13.4142C1.46086 13.7893 1.96957 14 2.5 14H13.5C14.0304 14 14.5391 13.7893 14.9142 13.4142C15.2893 13.0391 15.5 12.5304 15.5 12V11.5C15.5 11.3674 15.4473 11.2402 15.3536 11.1464C15.2598 11.0527 15.1326 11 15 11ZM1.8325 6H14.1675C15.2478 6 15.8744 4.62812 15.2556 3.62875C14 1.6 11.2359 0.003125 8 0C4.76437 0.003125 2 1.6 0.744375 3.62844C0.125 4.62781 0.752187 6 1.8325 6ZM12 2.5C12.0989 2.5 12.1956 2.52932 12.2778 2.58427C12.36 2.63921 12.4241 2.7173 12.4619 2.80866C12.4998 2.90002 12.5097 3.00055 12.4904 3.09755C12.4711 3.19454 12.4235 3.28363 12.3536 3.35355C12.2836 3.42348 12.1945 3.4711 12.0975 3.49039C12.0006 3.50969 11.9 3.49978 11.8087 3.46194C11.7173 3.4241 11.6392 3.36001 11.5843 3.27779C11.5293 3.19556 11.5 3.09889 11.5 3C11.5 2.86739 11.5527 2.74021 11.6464 2.64645C11.7402 2.55268 11.8674 2.5 12 2.5V2.5ZM8 1.5C8.09889 1.5 8.19556 1.52932 8.27779 1.58427C8.36001 1.63921 8.4241 1.7173 8.46194 1.80866C8.49978 1.90002 8.50969 2.00055 8.49039 2.09755C8.4711 2.19454 8.42348 2.28363 8.35355 2.35355C8.28363 2.42348 8.19454 2.4711 8.09755 2.49039C8.00056 2.50969 7.90002 2.49978 7.80866 2.46194C7.7173 2.4241 7.63921 2.36001 7.58427 2.27779C7.52932 2.19556 7.5 2.09889 7.5 2C7.5 1.86739 7.55268 1.74021 7.64645 1.64645C7.74021 1.55268 7.86739 1.5 8 1.5V1.5ZM4 2.5C4.09889 2.5 4.19556 2.52932 4.27779 2.58427C4.36001 2.63921 4.4241 2.7173 4.46194 2.80866C4.49978 2.90002 4.50969 3.00055 4.49039 3.09755C4.4711 3.19454 4.42348 3.28363 4.35355 3.35355C4.28363 3.42348 4.19454 3.4711 4.09755 3.49039C4.00055 3.50969 3.90002 3.49978 3.80866 3.46194C3.7173 3.4241 3.63921 3.36001 3.58427 3.27779C3.52932 3.19556 3.5 3.09889 3.5 3C3.5 2.86739 3.55268 2.74021 3.64645 2.64645C3.74021 2.55268 3.86739 2.5 4 2.5V2.5Z" fill="#F4AE51"/>
            </svg>,
        Salad: 
            <svg width="24" height="24" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M9.96047 7.07025C9.81497 6.63725 9.59297 6.48225 9.33622 6.48225C9.02322 6.48225 8.65822 6.712 8.31497 6.95C8.11072 7.092 7.31997 7.96525 6.88872 7.96525C6.8393 7.96658 6.79073 7.95223 6.74997 7.92425C6.32897 7.62625 6.85647 6.32775 6.85647 5.705C6.85647 5.10225 6.74697 4.872 6.57922 4.872C6.11547 4.872 5.20697 6.63775 4.95372 7.14725C4.88222 7.291 4.78247 7.34775 4.66672 7.34775C4.26197 7.34775 3.65997 6.6515 3.38347 6.54475C3.34222 6.52801 3.29824 6.51902 3.25372 6.51825C2.79172 6.51825 2.80172 7.6675 2.80872 7.9725C3.06122 7.9035 3.29797 7.861 3.50497 7.861C4.02672 7.861 4.35847 8.13125 4.27197 8.9245C4.25247 9.10275 4.13972 9.67075 4.32422 9.796C4.35384 9.81526 4.38866 9.82495 4.42397 9.82375C4.63672 9.82375 4.97372 9.5615 5.09897 9.4815C5.26747 9.3735 5.44422 9.2945 5.59372 9.2945C5.77372 9.2945 5.91422 9.40875 5.95447 9.725C5.97847 9.91225 5.88672 10.6247 6.07022 10.7385C6.09715 10.7547 6.12805 10.7631 6.15947 10.7627C6.49822 10.7627 7.07647 9.91625 7.33822 9.81925C7.46112 9.77374 7.59117 9.75062 7.72222 9.751C8.07047 9.751 8.40172 9.90475 8.74047 10.0347C8.79747 10.0567 8.84397 10.0662 8.88172 10.0662C9.08647 10.0662 9.02697 9.782 8.85172 9.60025C8.59647 9.33425 8.19147 9.451 7.90747 9.2605C7.54672 9.0185 8.04897 8.53225 8.24397 8.388C8.47672 8.2155 8.99272 7.93825 9.40447 7.93825C9.59522 7.93825 9.76347 7.99775 9.87047 8.15425C10.0727 8.45 9.73622 8.8235 9.82122 9.1555C9.85697 9.29325 9.94347 9.34075 10.046 9.34075C10.2642 9.34075 10.5535 9.12525 10.5735 9.10475C10.7065 8.96653 10.8496 8.83843 11.0017 8.7215C10.2417 8.55325 10.1772 7.71675 9.96047 7.07025" fill="#F4AE51"/>
                <path d="M3.7291 6.44725C3.7291 6.44725 4.38635 7.027 4.6671 7.027C4.72085 7.027 4.7611 7.00575 4.77985 6.95425C5.18385 5.848 6.0381 4.58375 6.59585 4.58375C6.8391 4.58375 7.02585 4.8245 7.09385 5.4245C7.18185 6.20125 6.6446 7.3785 6.90285 7.64675C6.90848 7.65244 6.91523 7.65689 6.92268 7.65981C6.93013 7.66274 6.93811 7.66408 6.9461 7.66375C7.23635 7.66375 8.3831 6.19525 9.3646 6.19525C9.44014 6.19506 9.51539 6.20439 9.5886 6.223C10.4729 6.44975 10.0896 7.9575 10.8074 8.38825C10.9262 8.46064 11.0624 8.49943 11.2016 8.5005C11.4661 8.5005 11.7076 8.34975 11.7654 8.038C11.9111 7.251 9.4116 5.7255 10.7639 5.7255C10.9579 5.7255 11.2311 5.75675 11.6026 5.82625C11.8239 4.31025 11.7466 3.89 11.5486 3.89C11.3229 3.89 10.9399 4.43575 10.6611 4.52975C10.653 4.53245 10.6446 4.53389 10.6361 4.534C10.4768 4.534 10.4824 3.9605 10.2099 3.9605C10.0339 3.9605 9.7421 4.19975 9.2156 4.98625C8.9441 5.392 8.74085 5.5525 8.58035 5.5525C7.96985 5.5525 7.9871 3.21725 7.2546 3.21725C7.1066 3.21725 6.9281 3.3125 6.7076 3.54125C6.3691 3.89275 6.0531 4.01725 5.75735 4.01725C5.0371 4.01725 4.44035 3.2775 3.9511 3.2775C3.7581 3.2775 3.58135 3.39275 3.42085 3.71475C3.0886 4.3825 4.2136 4.348 3.7291 6.44725V6.44725ZM4.58985 6.74775C4.45835 6.68875 4.22485 6.53075 4.00585 6.35075C4.04635 6.1525 4.07135 5.9745 4.08585 5.8105C4.1476 5.707 4.2236 5.605 4.31635 5.5105C4.6941 5.12525 5.1781 5.0035 5.41535 5.226C5.0771 5.69225 4.77935 6.263 4.58985 6.74775V6.74775ZM10.1426 5.75425C10.0191 6.0465 10.2594 6.355 10.6271 6.75825C10.6014 6.78628 10.5716 6.81015 10.5386 6.829C10.5036 6.84842 10.4655 6.86185 10.4261 6.86875C10.3091 6.47375 10.1129 6.0945 9.6496 5.97575C9.58153 5.95913 9.51207 5.94884 9.4421 5.945C9.3166 5.537 9.37485 5.15375 9.6126 5.02125C9.8746 4.8745 10.2566 5.084 10.5174 5.4905C10.3721 5.51825 10.2141 5.58525 10.1426 5.75425" fill="#F4AE51"/>
                <path d="M12.0019 8.0435C11.9471 8.40125 12.4671 8.46525 12.2186 9.05125C12.0911 9.351 11.0114 10.042 11.0909 10.1932C11.2086 10.4145 11.3501 10.5005 11.4934 10.5005C11.7769 10.5005 12.0656 10.164 12.1819 9.8725C12.3341 9.49125 12.3734 8.4905 12.7444 8.305C12.8071 8.27325 12.8691 8.25925 12.9304 8.25925C13.2966 8.25925 13.6389 8.7545 13.9689 8.8215C14.0494 8.463 13.9919 8.091 14.0739 7.7305C12.6809 7.713 14.8479 5.80925 13.6096 5.0325C13.5429 4.99075 13.4869 4.972 13.4379 4.97225C13.0481 4.97225 13.1389 6.16575 12.1541 6.16575C12.0756 6.16575 11.9899 6.158 11.8966 6.1415C11.5364 6.078 11.2876 6.0485 11.1249 6.0485C10.1764 6.049 12.1556 7.04675 12.0019 8.0435" fill="#F4AE51"/>
                <path d="M14.4692 6.17325C14.5048 5.95851 14.5066 5.73956 14.4747 5.52425C14.3852 4.9245 13.9165 4.4365 13.43 4.43625C13.2638 4.43625 12.8657 4.5055 12.6775 5.09625C12.5509 5.04335 12.4231 4.99334 12.2942 4.94625C12.4055 4.1975 12.3637 3.68425 12.164 3.422C12.1158 3.35639 12.0528 3.30308 11.9801 3.26641C11.9075 3.22974 11.8272 3.21076 11.7458 3.211C11.4843 3.211 11.1905 3.386 10.8255 3.76025L10.8123 3.72475C10.7348 3.51525 10.6052 3.16475 10.2577 3.16475C10.0202 3.16475 9.70575 3.31125 9.04475 4.27475C8.85306 4.26065 8.6611 4.2504 8.469 4.244L8.4335 4.115C8.22725 3.35775 7.99325 2.49975 7.334 2.4995H7.33375C7.065 2.4995 6.78225 2.65775 6.469 2.983C6.23575 3.2255 6.005 3.34325 5.76325 3.34325C5.4685 3.34325 5.16675 3.17425 4.87475 3.011C4.5795 2.846 4.2745 2.67525 3.959 2.67525C3.585 2.67525 3.281 2.9045 3.0295 3.37625C2.74225 3.91525 2.902 4.27125 3.0565 4.61575C3.124 4.766 3.19475 4.92525 3.245 5.12075C1.57075 5.83975 0.5 6.9285 0.5 8.14925C0.5 11.5325 3.858 15.5 8 15.5C12.1423 15.5 15.5 11.5325 15.5 8.14925C15.5 7.42775 15.1205 6.75375 14.4692 6.17325ZM8 14.9902C4.84725 14.9902 2.19625 12.5162 1.3145 9.9255C2.55425 11.1977 5.0815 12.0695 8 12.0695C10.9185 12.0695 13.4453 11.1977 14.685 9.92575C13.8033 12.516 11.1525 14.9902 8 14.9902ZM10.7837 10.6187C10.7235 10.8082 10.5362 11.0962 10.304 11.299C9.9455 11.6117 9.5085 11.679 9.30025 11.4605C9.12525 11.276 9.154 10.9333 9.355 10.6125C9.7665 9.9555 10.3565 9.8115 10.6125 9.9415C10.6075 9.9595 10.6005 9.97675 10.597 9.996C10.5615 10.1958 10.6257 10.4052 10.7837 10.6187V10.6187ZM14.6257 7.40675C14.381 7.40675 14.2633 8.08475 14.2458 8.511C14.2303 8.88675 14.1218 9.012 13.9665 9.012C13.743 9.012 13.4225 8.753 13.1427 8.6065C13.0532 8.5595 12.9845 8.53875 12.9305 8.53875C12.7703 8.53875 12.741 8.726 12.686 8.991C12.5932 9.43825 12.4827 9.90225 12.2402 10.288C12.0622 10.5713 11.787 10.7683 11.5112 10.7683C11.33 10.7683 11.1485 10.6833 10.994 10.482C10.3865 9.6925 11.721 9.531 11.987 8.98975C12.141 8.67675 12.0918 8.56775 11.9508 8.56775C11.6733 8.56775 11.0405 8.99125 10.91 9.111C10.6795 9.32175 10.4147 9.63225 10.0907 9.63225C10.036 9.63225 9.97925 9.62325 9.92075 9.6035C9.577 9.4875 9.52875 9.055 9.6015 8.73375C9.662 8.46525 9.80125 8.224 9.44225 8.21025C9.42959 8.20975 9.41692 8.2095 9.40425 8.2095C9.173 8.2095 8.93675 8.2855 8.727 8.3805C8.4725 8.496 8.1205 8.7025 8.02825 9.00575C7.9995 9.099 8.61675 9.19625 8.71275 9.23325C9.19375 9.42125 9.429 10.3265 8.92575 10.3265C8.86075 10.3265 8.7835 10.3112 8.69275 10.2782C8.37725 10.1605 8.06 9.994 7.72975 9.994C7.62125 9.994 7.5115 10.012 7.40025 10.0557C7.16975 10.1462 7.04375 10.4045 6.86225 10.5662C6.59375 10.8072 6.35625 10.9368 6.16975 10.9368C5.91275 10.9368 5.75275 10.6908 5.7425 10.1505C5.7335 9.7115 5.64925 9.56925 5.513 9.56925C5.27 9.56925 4.862 10.023 4.42375 10.0565C4.411 10.0573 4.39875 10.0577 4.387 10.0577C3.80225 10.0577 4.02975 8.946 4.07525 8.60325C4.125 8.2295 3.8995 8.09675 3.55225 8.09675C3.162 8.09675 2.61925 8.26425 2.14125 8.446C2.16425 8.4665 2.18825 8.4845 2.21025 8.507C2.64775 8.9435 2.7915 9.51925 2.53225 9.792C2.2725 10.0642 1.70775 9.931 1.27075 9.494C0.83375 9.057 0.6895 8.48125 0.94925 8.20875C1.171 7.9745 1.51575 8.05325 1.809 8.2095C2.19225 8.08075 2.581 7.9685 2.572 7.7875C2.50375 6.4185 2.892 6.163 3.19175 6.16325C3.30601 6.1661 3.41777 6.19728 3.517 6.254C3.7875 4.51175 2.77275 4.3935 3.2495 3.49875C3.47525 3.0755 3.711 2.931 3.9595 2.931C4.49375 2.931 5.0865 3.59875 5.76375 3.59875C6.0435 3.59875 6.33775 3.4845 6.648 3.16225C6.92625 2.87325 7.15025 2.755 7.3345 2.755C8.15875 2.75525 8.18075 5.1225 8.652 5.1225C8.7425 5.1225 8.84975 5.03525 8.982 4.82725C9.67325 3.74175 10.041 3.42 10.258 3.42C10.5745 3.42 10.5703 4.1045 10.7795 4.1045C10.8225 4.1045 10.875 4.07525 10.941 4.005C11.2882 3.63525 11.5555 3.466 11.746 3.466C12.1953 3.466 12.2175 4.40625 11.8515 5.871C11.8515 5.871 11.9333 5.89175 12.053 5.89175C12.3083 5.89175 12.735 5.798 12.902 5.212C13.0073 4.843 13.212 4.6915 13.4305 4.6915C13.7755 4.6915 14.1542 5.069 14.228 5.56275C14.3622 6.4645 13.7675 7.10325 13.814 7.37525C13.822 7.4235 13.8458 7.4425 13.8813 7.4425C14.0145 7.4425 14.3137 7.17125 14.575 7.17125C14.7697 7.17125 14.9437 7.3225 15.0107 7.851C14.8577 7.53075 14.7302 7.40675 14.6257 7.40675" fill="#F4AE51"/>
            </svg>,
        Drink: 
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M15.7201 2.22C15.8623 2.08752 16.0503 2.0154 16.2446 2.01883C16.4389 2.02225 16.6243 2.10097 16.7617 2.23838C16.8991 2.37579 16.9778 2.56118 16.9813 2.75548C16.9847 2.94978 16.9126 3.13783 16.7801 3.28L15.5601 4.5H17.7501C18.0671 4.5 18.3501 4.7 18.4561 4.998L19.7061 8.498C19.7465 8.61115 19.759 8.73234 19.7428 8.85136C19.7266 8.97039 19.682 9.08378 19.6128 9.18198C19.5436 9.28019 19.4518 9.36033 19.3452 9.41567C19.2386 9.47102 19.1202 9.49994 19.0001 9.5H17.9561L16.3681 19.55C16.1581 21.015 14.9091 22 13.3981 22H10.6021C9.09209 22 7.84209 21.015 7.63409 19.56L6.04409 9.5H5.00009C4.87996 9.49994 4.7616 9.47102 4.65498 9.41567C4.54835 9.36033 4.45658 9.28019 4.38739 9.18198C4.3182 9.08378 4.27361 8.97039 4.25737 8.85136C4.24113 8.73234 4.25373 8.61115 4.29409 8.498L5.54409 4.998C5.59606 4.85233 5.69179 4.72628 5.81818 4.63713C5.94457 4.54798 6.09543 4.50008 6.25009 4.5H13.4381L15.7201 2.22V2.22ZM17.2221 6H6.77909L6.06409 8H17.9361L17.2221 6Z" fill="#F4AE51"/>
            </svg>
    }

    const [activeFood, setActiveFood] = useState(0);
    function setActive(elem, i){
        setActiveFood(i);
        props.setActiveGrid(elem)
    }

    const variants = {
        visible: {
            opacity: 1, width: "100%", margin: "0 0 0 .7em", x: 0
        },
        hidden: {
            opacity: 0, width: "0", margin: "0", x: -30
        }   
    }

    const transition = {
        duration: .3,
        type: "tween"
    }

    return(
        <Container>
            <Navigation>
                <ul>
                    {  
                        props.sections.map((elem, index)=>{
                            return(
                                <li key={index}>
                                    <button onClick={()=>setActive(elem, index)}>
                                        {svg[elem]}
                                        <motion.span
                                            initial={activeFood == index? "visible" : "hidden"}
                                            variants={variants}
                                            animate={activeFood == index? "visible" : "hidden"}
                                            transition={transition}
                                        >
                                            {elem}
                                        </motion.span>
                                    </button>
                                </li>
                            )
                        })
                    }
                </ul>
            </Navigation>

            <Content>
                {props.children}
            </Content>

        </Container>
    );
}

export default Scrollspy;